(function(t){function e(e){for(var c,n,i=e[0],r=e[1],l=e[2],b=0,O=[];b<i.length;b++)n=i[b],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&O.push(a[n][0]),a[n]=0;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c]);d&&d(e);while(O.length)O.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],c=!0,i=1;i<s.length;i++){var r=s[i];0!==a[r]&&(c=!1)}c&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var c={},a={app:0},o=[];function n(e){if(c[e])return c[e].exports;var s=c[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=c,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)n.d(s,c,function(e){return t[e]}.bind(null,c));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/posts_users_comments/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=r;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"26b3":function(t,e,s){"use strict";s("b627")},4897:function(t,e,s){"use strict";s("e61b")},"56d7":function(t,e,s){"use strict";s.r(e);s("f9e3");var c=s("7a23"),a=s("bfbe");function o(t,e,s,a,o,n){const i=Object(c["A"])("router-view"),r=Object(c["A"])("notifications");return Object(c["s"])(),Object(c["g"])(c["a"],null,[Object(c["j"])(i),Object(c["j"])(r,{position:"bottom right"})],64)}const n=t=>(Object(c["v"])("data-v-f72e3a32"),t=t(),Object(c["t"])(),t),i={class:"container-xl"},r=n(()=>Object(c["h"])("div",{class:"row text-center mb-5"},[Object(c["h"])("h1",null,"Список постов")],-1)),l={key:0,class:"d-flex justify-content-center"},d=n(()=>Object(c["h"])("div",{class:"spinner-border text-secondary",role:"status"},null,-1)),b=[d],O={key:1,class:"row"},h={class:"col"},m={class:"card"},j={class:"list-group list-group-flush"},u={class:"col"},p=n(()=>Object(c["h"])("option",{value:null},"Выберите пользователя",-1)),f=["value"];function S(t,e,s,a,o,n){const d=Object(c["A"])("router-link");return Object(c["s"])(),Object(c["g"])("div",i,[r,t.dataLoading?(Object(c["s"])(),Object(c["g"])("div",l,b)):(Object(c["s"])(),Object(c["g"])("div",O,[Object(c["h"])("div",h,[Object(c["h"])("div",m,[Object(c["h"])("ul",j,[(Object(c["s"])(!0),Object(c["g"])(c["a"],null,Object(c["y"])(n.filteredPosts,t=>(Object(c["s"])(),Object(c["g"])("li",{key:t.id,class:"list-group-item post"},[Object(c["j"])(d,{to:{name:"post",params:{id:t.id,userId:t.userId}},class:"text-dark text-decoration-none"},{default:Object(c["I"])(()=>[Object(c["i"])(Object(c["D"])(t.id)+". "+Object(c["D"])(t.title),1)]),_:2},1032,["to"])]))),128))])])]),Object(c["h"])("div",u,[Object(c["J"])(Object(c["h"])("select",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.selectedUser=e),onChange:e[1]||(e[1]=t=>n.getPosts()),class:"form-select","aria-label":"Default select example"},[p,(Object(c["s"])(!0),Object(c["g"])(c["a"],null,Object(c["y"])(t.users,t=>(Object(c["s"])(),Object(c["g"])("option",{key:t.id,value:t.id},Object(c["D"])(t.name),9,f))),128))],544),[[c["F"],t.selectedUser]])])]))])}var E=s("5502"),T={name:"PostList",data:()=>({posts:[],users:[],selectedUser:null,dataLoading:!1}),computed:{...Object(E["c"])(["POSTS","USERS"]),filteredPosts(){return this.selectedUser?this.posts.filter(t=>t.userId===this.selectedUser):this.posts}},methods:{...Object(E["b"])(["GET_POSTS","GET_USERS"]),getPosts(){this.dataLoading=!0,this.GET_POSTS().then(t=>{this.posts=this.POSTS},t=>{this.$notify({title:"Ошибка",text:"Неудалось загрузить посты",type:"error"})}).finally(()=>this.dataLoading=!1)},getUsers(){this.dataLoading=!0,this.GET_USERS().then(t=>{this.users=this.USERS},t=>{this.$notify({title:"Ошибка",text:"Неудалось загрузить пользователей",type:"error"})}).finally(()=>this.dataLoading=!1)}},mounted(){this.getUsers(),this.getPosts()}},_=(s("26b3"),s("6b0d")),y=s.n(_);const v=y()(T,[["render",S],["__scopeId","data-v-f72e3a32"]]);var g=v,I={name:"App",components:{PostList:g}};const N=y()(I,[["render",o]]);var M=N,P=s("6605");const C=t=>(Object(c["v"])("data-v-5aea93be"),t=t(),Object(c["t"])(),t),x={class:"container-xl"},A={class:"mt-3 card-header d-flex"},U={class:"ms-3 mt-2"},w={key:0,class:"d-flex justify-content-center"},D=C(()=>Object(c["h"])("div",{class:"spinner-border text-secondary",role:"status"},null,-1)),k=[D],F={class:"row mt-3"},R={class:"col"},G=C(()=>Object(c["h"])("div",{class:"text-center mb-1"},"Информация о посте",-1)),L={class:"card"},$={class:"card-body"},J={class:"card-title"},W={class:"card-subtitle mb-2 text-muted"},V={class:"card-text"},K={class:"col"},B=C(()=>Object(c["h"])("div",{class:"text-center mb-1"},"Информация о пользователе",-1)),q={class:"card"},z={class:"card-body"},H={class:"form-group row"},Q=C(()=>Object(c["h"])("label",{class:"form-label col-3"}," Имя: ",-1)),X={class:"col"},Y={class:"form-group row"},Z=C(()=>Object(c["h"])("label",{class:"form-label col-3"}," Email: ",-1)),tt={class:"col"},et={class:"form-group row"},st=C(()=>Object(c["h"])("label",{class:"form-label col-3"}," Телефон: ",-1)),ct={class:"col"},at={class:"form-group row"},ot=C(()=>Object(c["h"])("label",{class:"form-label col-3"}," Веб-сайт: ",-1)),nt={class:"col"},it={class:"row mt-5"},rt={class:"col"},lt=C(()=>Object(c["h"])("div",null,"Коментарии",-1)),dt={key:0},bt={key:1},Ot={class:"mt-3 mb-3"},ht=C(()=>Object(c["h"])("label",{for:"name",class:"form-label"}," Заголовок ",-1)),mt={class:"mt-3 mb-3"},jt=C(()=>Object(c["h"])("label",{for:"email",class:"form-label"}," Email ",-1)),ut={class:"mt-3 mb-3"},pt=C(()=>Object(c["h"])("label",{for:"exampleFormControlTextarea1",class:"form-label"}," Описание ",-1)),ft=["disabled"],St={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Et=Object(c["i"])(" Добавить коментарий "),Tt={class:"card mt-2"},_t={class:"card-body"},yt=["onClick"],vt=C(()=>Object(c["h"])("div",{class:"badge bg-danger"},"Удалить",-1)),gt=[vt],It={key:2,class:"h3"};function Nt(t,e,s,a,o,n){return Object(c["s"])(),Object(c["g"])("div",x,[Object(c["h"])("div",A,[Object(c["h"])("div",null,[Object(c["h"])("button",{class:"btn btn-outline-dark",onClick:[e[0]||(e[0]=e=>t.$emit("notify_back")),e[1]||(e[1]=Object(c["K"])(e=>t.$router.back(),["prevent"]))]}," Назад ")]),Object(c["h"])("h5",U,"Пост № "+Object(c["D"])(t.$route.params.id),1)]),t.dataLoading?(Object(c["s"])(),Object(c["g"])("div",w,k)):(Object(c["s"])(),Object(c["g"])(c["a"],{key:1},[Object(c["h"])("div",F,[Object(c["h"])("div",R,[G,Object(c["h"])("div",L,[Object(c["h"])("div",$,[Object(c["h"])("h5",J,Object(c["D"])(t.postInfo.title),1),Object(c["h"])("h6",W,Object(c["D"])(t.userInfo.name),1),Object(c["h"])("p",V,Object(c["D"])(t.postInfo.body),1)])])]),Object(c["h"])("div",K,[B,Object(c["h"])("div",q,[Object(c["h"])("div",z,[Object(c["h"])("div",H,[Q,Object(c["h"])("div",X,Object(c["D"])(t.userInfo.name),1)]),Object(c["h"])("div",Y,[Z,Object(c["h"])("div",tt,Object(c["D"])(t.userInfo.email),1)]),Object(c["h"])("div",et,[st,Object(c["h"])("div",ct,Object(c["D"])(t.userInfo.phone),1)]),Object(c["h"])("div",at,[ot,Object(c["h"])("div",nt,Object(c["D"])(t.userInfo.website),1)])])])])]),Object(c["h"])("div",it,[Object(c["h"])("div",rt,[lt,Object(c["h"])("button",{onClick:e[2]||(e[2]=e=>t.canEdit=!t.canEdit),type:"button",class:"mt-2 btn btn-primary"},[t.canEdit?(Object(c["s"])(),Object(c["g"])("span",bt,"Отменить")):(Object(c["s"])(),Object(c["g"])("span",dt,"Добавить"))]),t.canEdit?(Object(c["s"])(),Object(c["g"])("form",{key:0,onSubmit:e[6]||(e[6]=Object(c["K"])((...t)=>n.createComment&&n.createComment(...t),["prevent"]))},[Object(c["h"])("div",Ot,[ht,Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":e[3]||(e[3]=e=>t.form.name=e),type:"text",class:"form-control",id:"name",placeholder:"Введите коментарий...",autocomplete:"off"},null,512),[[c["G"],t.form.name]])]),Object(c["h"])("div",mt,[jt,Object(c["J"])(Object(c["h"])("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.form.email=e),type:"email",class:"form-control",id:"email",placeholder:"Введите коментарий..."},null,512),[[c["G"],t.form.email]])]),Object(c["h"])("div",ut,[pt,Object(c["J"])(Object(c["h"])("textarea",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.form.body=e),class:"form-control",id:"exampleFormControlTextarea1",rows:"3"},"\r\n            ",512),[[c["G"],t.form.body]])]),Object(c["h"])("div",null,[Object(c["h"])("button",{disabled:t.disabled,type:"submit",class:"btn btn-primary"},[t.loading?(Object(c["s"])(),Object(c["g"])("span",St)):Object(c["f"])("",!0),Et],8,ft)])],32)):Object(c["f"])("",!0),t.canEdit?(Object(c["s"])(),Object(c["g"])("div",It)):(Object(c["s"])(!0),Object(c["g"])(c["a"],{key:1},Object(c["y"])(t.comments,t=>(Object(c["s"])(),Object(c["g"])("div",Tt,[Object(c["h"])("div",_t,[Object(c["h"])("div",{onClick:e=>n.deleteComment(t.id),class:"d-flex justify-content-end deleteBtn"},gt,8,yt),Object(c["h"])("div",null,Object(c["D"])(t.name),1),Object(c["h"])("div",null,Object(c["D"])(t.email),1),Object(c["h"])("div",null,Object(c["D"])(t.body),1)])]))),256))])])],64))])}var Mt={name:"PostAndUserInformation",data:()=>({postInfo:[],userInfo:[],comments:[],form:{name:"",email:"",body:""},dataLoading:!1,canEdit:!1,loading:!1,disabled:!1}),computed:{...Object(E["c"])(["COMMENTS","POST_INFO","USER_INFO","NEW_COMMENTS"])},methods:{...Object(E["b"])(["GET_COMMENTS_POST","GET_POST_INFO","GET_USER_INFO","CREATE_COMMENT"]),createComment(){if(this.form.name&&this.form.email&&""!==this.form.body){this.loading=!this.loading,this.disabled=!this.disabled;const t=this.$route.params.id,e=this.form;this.CREATE_COMMENT({id:t,form:e}).then(t=>{this.comments.unshift(this.NEW_COMMENTS),this.canEdit=!this.canEdit,this.form.name="",this.form.email="",this.form.body="",this.$notify({title:"Успешно",text:"Коментарий создан",type:"success"})},t=>{this.$notify({title:"Ошибка",text:"Коментарий не создан",type:"error"})}).finally(()=>{this.loading=!this.loading,this.disabled=!this.disabled})}},getPostInfo(){this.dataLoading=!0,this.GET_POST_INFO({id:this.$route.params.id}).then(t=>{this.postInfo=this.POST_INFO},t=>{alert("Не удалось загрузить информацию о посте")}).finally(()=>this.dataLoading=!1)},getUserInfo(){this.dataLoading=!0,this.GET_USER_INFO({userId:this.$route.params.userId}).then(t=>{this.userInfo=this.USER_INFO},t=>{alert("Не удалось загрузить информацию о пользователе")}).finally(()=>this.dataLoading=!1)},getCommentsPost(){this.dataLoading=!0,this.GET_COMMENTS_POST({id:this.$route.params.id}).then(t=>{this.comments=this.COMMENTS},t=>{alert("Не удалось загрузить коментарии")}).finally(()=>this.dataLoading=!1)},deleteComment(t){this.comments=this.comments.filter(e=>e.id!==t)}},mounted(){this.getUserInfo(),this.getPostInfo(),this.getCommentsPost()}};s("4897");const Pt=y()(Mt,[["render",Nt],["__scopeId","data-v-5aea93be"]]);var Ct=Pt,xt=Object(P["a"])({history:Object(P["b"])(),routes:[{path:"/",name:"post-list",component:g},{path:"/post/:id/user/:userId",name:"post",component:Ct}]}),At=s("bc3a"),Ut=s.n(At);const wt=Object(E["a"])({state(){return{POSTS:[],USERS:[],COMMENTS:[],NEW_COMMENTS:[],POST_INFO:[],USER_INFO:[]}},mutations:{SET_DATA_POSTS:(t,e)=>t.POSTS=e,SET_DATA_USERS:(t,e)=>t.USERS=e,SET_DATA_COMMENTS_POST:(t,e)=>t.COMMENTS=e,SET_DATA_POST_INFO:(t,e)=>t.POST_INFO=e,SET_DATA_USER_INFO:(t,e)=>t.USER_INFO=e,SET_DATA_NEW_COMMENTS:(t,e)=>t.NEW_COMMENTS=e},actions:{async GET_POSTS({commit:t}){return await Ut.a.get("https://jsonplaceholder.typicode.com/posts").then(e=>(t("SET_DATA_POSTS",e.data),e)).catch(t=>t)},async GET_USERS({commit:t}){return await Ut.a.get("https://jsonplaceholder.typicode.com/users").then(e=>(t("SET_DATA_USERS",e.data),e)).catch(t=>t)},async GET_COMMENTS_POST({commit:t},e){return await Ut.a.get(`https://jsonplaceholder.typicode.com/posts/${e.id}/comments`).then(e=>(t("SET_DATA_COMMENTS_POST",e.data),e)).catch(t=>t)},async GET_POST_INFO({commit:t},e){return await Ut.a.get("https://jsonplaceholder.typicode.com/posts/"+e.id).then(e=>(t("SET_DATA_POST_INFO",e.data),e)).catch(t=>t)},async GET_USER_INFO({commit:t},e){return await Ut.a.get("https://jsonplaceholder.typicode.com/users/"+e.userId).then(e=>(t("SET_DATA_USER_INFO",e.data),e)).catch(t=>t)},async CREATE_COMMENT({commit:t},e){return await Ut.a.post("https://jsonplaceholder.typicode.com/comments",{name:e.form.name,email:e.form.email,body:e.form.body,postId:e.id}).then(e=>(t("SET_DATA_NEW_COMMENTS",e.data),e)).catch(t=>t)},async DELETE_COMMENT({commit:t},e){return await Ut.a.delete("https://jsonplaceholder.typicode.com/comments"+e.id).then(e=>(t(e.data),e)).catch(t=>t)}},getters:{}});var Dt=wt;s("4989");const kt=Object(c["d"])(M);kt.use(xt),kt.use(Dt),kt.use(a["a"]),kt.mount("#app")},b627:function(t,e,s){},e61b:function(t,e,s){}});
//# sourceMappingURL=app.ef903bbd.js.map